<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="/global-style.css">
<script src="/scripts/timeline.js"></script>
<script> 
function closeModal() {
	document.getElementById("dateModal").style.display = "none";
};
function copyURL() {
	document.getElementById("ref-link").select();
	document.execCommand('copy');
};
</script>
<script src="/scripts/generate_nav.js"></script>
</head>
<body onload="generate_nav('Interactive Timeline');">
	<link rel="stylesheet" type="text/css" href="/projects/timeline/timeline-style.css">
	<link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
	<script src="/bootstrap/js/jquery.min.js"></script>
	<script src="/bootstrap/js/bootstrap.min.js"></script>

	<div id="startup-div">
			<div id="startup-input-div" class="form-group">
				<label id="startup-header-label" for="input-id">Load Timeline from ID</label>
				<input class="form-control" id="input-id" name="input-id" type="text" placeholder="Timeline ID"></input>
				<button id="load-timeline-button" class="btn btn-primary" onclick="loadTimeline();">Load</button>
				<label id="input-err-label" for="input-id"></label>
			</div>
		<p>Or create a new one</p>
		<button id="new-timeline-button" class="btn btn-primary" onclick="initialize(); drawTimeline(); showHelperText();">Create Timeline</button>
	</div>

	<div id="canvas_div">
		<div id="option-bar">
			<div id="option-bar-left">
				<button id="settings-button" onclick="openSettingsWindow();" class="btn btn-primary">Settings</button>
			</div>
			<div id="option-bar-right">
				<button id="reset-button" onclick="resetTimeline();" class="btn btn-primary">Reset</button>
				<button id="save-button" onclick="saveTimeline();" class="btn btn-primary">Save Timeline</button>
			</div>
			<div id="option-bar-mid">
				<input id="timeline-name" type="text"></input>
			</div>
		</div>

		<canvas id="canvas" width="1100" height="600"></canvas>
		<div id="helper-div" class="popup-div">
			<header>
				<p>Welcome! <br>
					To get started, click on either ends of <br>
					the timeline to select a start/end date.</p>
			</header>
		</div>

		<div id="save-modal" class="popup-div">
			<button id="close-save-modal" class="btn btn-primary" onclick="closeSaveModal();">&times;</button>
			<p>Timeline saved! Access it later using the code below:</p>
			<textarea readonly rows="2" id="ref-link"></textarea>
			<button id="btn-copy-id" class="btn btn-primary" onclick="copyURL();">Copy</button>
		</div>

		<div id="settings-div">
			<span id="settings-header">Settings</span>
			<button id="close-settings-btn" class="btn btn-primary" onclick="animateCloseSettingsWindow();">&times;</button>
			<div>
				<p id="settings-id"></p>
				<button class="btn btn-primary">Load Timeline</button>
				<button class="btn btn-primary">New Timeline</button>
				<button class="btn btn-primary" onclick="showSetupMenu();">Go to Main Menu</button>
			</div>
		</div>
	</div>

	<div id="dateModal" class="modal">
		<div class="modal-content">
			<button class="modal-buttons" onclick="closeModal();">&times;</button>
			<form>
				Input a Date:
				<input type="date" name="date" id="dateForm">
			</form>
			<button class="modal-buttons" onclick="setDateFromModal(); closeModal();">OK</button>
		</div>
	</div>
</body>
</html>